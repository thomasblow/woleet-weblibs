importScripts("crypto.min.js"),self.addEventListener("message",function(a){var b=a.data;postMessage({start:!0,file:b});var c,d=1e7,e=function(a,b){for(var c,d,e,f,g,h=b||16777215,i=CryptoJS.algo.SHA256.create(),j=a.size,k=0,l=h;;){d=new FileReaderSync,e=a.slice(k,l),postMessage({progress:k/a.size,file:a}),f=d.readAsArrayBuffer(e),g=new Uint8Array(f);var m=CryptoJS.lib.WordArray.create(g);if(c=i.update(m),f=null,g=null,m=null,d=null,k=l,l+=h,k>=j)return c.finalize(),c._hash.toString(CryptoJS.enc.Hex)}},f=function(a){var b=0,c=a.size,d=new FileReaderSync,e=a.slice(b,c),f=d.readAsArrayBuffer(e),g=new Uint8Array(f),h=CryptoJS.lib.WordArray.create(g);return CryptoJS.SHA256(h).toString()};try{c=b.size>d?e(b):f(b),postMessage({result:c,file:b})}catch(a){postMessage({error:a,file:b})}finally{}},!1);