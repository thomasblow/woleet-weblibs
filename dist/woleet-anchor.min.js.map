{"version":3,"sources":["woleet-anchor.js"],"names":["root","factory","woleet","window","api","receipt","verify","_hashStringOrFile","getJSON","_getJSON","hashStringOrFile","woleetAPI","_token","set","token","anchor","create","file","progressCallback","then","data","public","name","hash","method","console","info"],"mappings":"cAAC,SAAWA,EAAMC,GACdD,EAAKE,OAASD,EAAQD,EAAKE,SAD7BC,OAAA,SAAgBF,GAEfE,GAAAA,GAAQD,KAGPE,GAAIC,QAAUD,EAAIC,YADlBD,EAAIA,OAAMF,EAAAA,WACVE,EAAIC,OAAJD,EAAcA,UAEdA,IAAIE,GAASF,EAAcG,kBAGvBC,EAAUJ,EAAIK,SADdC,EAAAA,EAAAA,WAEAC,EAAAA,IAgCJ,OA9BAP,GAAIQ,OAGAC,IAAK,SAACC,GADNA,EAAQA,GAEJF,IAAAA,SAAAA,EAAAA,MAWRR,EAAIW,OAAOC,OAAS,SAAUC,EAAMC,GAEhC,MAAOR,GAAiBO,EAAMC,GAA9BC,KAAOT,SAAAA,GAEKU,GAAAA,IACAC,QADO,EAEPC,KAAML,EAFCK,KAGPC,KAAMA,EAEV,OAAOf,GAAQG,EAAY,WAAYS,KAAMA,EAAMI,OAAQ,OAAQV,MAAOF,MATtFO,KAAAM,QAAAC,OAeOtB","file":"woleet-anchor.min.js","sourcesContent":[";(function (root, factory) {\n    root.woleet = factory(root.woleet)\n})(window, function (woleet) {\n\n    var api = woleet || {};\n    api.receipt = api.receipt || {};\n    api.anchor = api.anchor || {};\n    api.verify = api.verify || {};\n\n    var hashStringOrFile = api._hashStringOrFile;\n    var getJSON = api._getJSON;\n    var woleetAPI = api._woleetAPI;\n\n    var _token = null;\n\n    api.token = {\n        set: (token) => {\n            _token = token\n        },\n        get: (user, pass) => {\n        }\n    };\n\n    /**\n     * @param {File|String} file\n     * @param {Function} [progressCallback]\n     * @returns {Promise.<Object[]>}\n     */\n    api.anchor.create = function (file, progressCallback) {\n\n        return hashStringOrFile(file, progressCallback)\n            .then((hash) => {\n                var data = {\n                    public: true,\n                    name: file.name,\n                    hash: hash\n                };\n                return getJSON(woleetAPI + '/anchor', {data: data, method: 'POST', token: _token})\n            })\n            .then(console.info)\n    };\n\n\n    return api;\n});"]}