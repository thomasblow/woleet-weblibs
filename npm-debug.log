0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/Cellar/node/7.7.1/bin/node',
1 verbose cli   '/usr/local/bin/npm',
1 verbose cli   'publish' ]
2 info using npm@4.1.2
3 info using node@v7.7.1
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec Result {
7 silly cache add   raw: '.',
7 silly cache add   scope: null,
7 silly cache add   escapedName: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/Users/max/Documents/WOLEET/woleet-weblibs',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /Users/max/.npm/woleet-weblibs/0.2.6/package.tgz not in flight; packing
9 verbose correctMkdir /Users/max/.npm correctMkdir not in flight; initializing
10 info lifecycle woleet-weblibs@0.2.6~prepublish: woleet-weblibs@0.2.6
11 silly lifecycle woleet-weblibs@0.2.6~prepublish: no script for prepublish, continuing
12 info lifecycle woleet-weblibs@0.2.6~prepare: woleet-weblibs@0.2.6
13 silly lifecycle woleet-weblibs@0.2.6~prepare: no script for prepare, continuing
14 verbose tar pack [ '/Users/max/.npm/woleet-weblibs/0.2.6/package.tgz',
14 verbose tar pack   '/Users/max/Documents/WOLEET/woleet-weblibs' ]
15 verbose tarball /Users/max/.npm/woleet-weblibs/0.2.6/package.tgz
16 verbose folder /Users/max/Documents/WOLEET/woleet-weblibs
17 verbose addLocalTarball adding from inside cache /Users/max/.npm/woleet-weblibs/0.2.6/package.tgz
18 verbose correctMkdir /Users/max/.npm correctMkdir not in flight; initializing
19 silly cache afterAdd woleet-weblibs@0.2.6
20 verbose afterAdd /Users/max/.npm/woleet-weblibs/0.2.6/package/package.json not in flight; writing
21 verbose correctMkdir /Users/max/.npm correctMkdir not in flight; initializing
22 verbose afterAdd /Users/max/.npm/woleet-weblibs/0.2.6/package/package.json written
23 silly publish { name: 'woleet-weblibs',
23 silly publish   version: '0.2.6',
23 silly publish   private: true,
23 silly publish   scripts: { build: 'gulp' },
23 silly publish   devDependencies:
23 silly publish    { 'babel-preset-latest': '^6.22.0',
23 silly publish      gulp: '^3.9.1',
23 silly publish      'gulp-babel': '^6.1.2',
23 silly publish      'gulp-concat': '^2.6.1',
23 silly publish      'gulp-dest': '^0.2.3',
23 silly publish      'gulp-sourcemaps': '^2.4.0',
23 silly publish      'gulp-uglify': '^2.0.1' },
23 silly publish   description: 'This repository contains the sources code of **Woleet web libraries**. These libraries can be used in any web application to: - verify the integrity and timestamp of any data anchored on the Bitcoin blockchain (so called DAB) by Woleet or by any third party using [Chainpoint 1.0](http://www.chainpoint.org/#v1x) compatible anchoring receipts, - compute the SHA256 hash of any file (even larger than 50MB).',
23 silly publish   main: 'dist/woleet-weblibs.js',
23 silly publish   directories: { example: 'examples', test: 'test' },
23 silly publish   dependencies: {},
23 silly publish   repository:
23 silly publish    { type: 'git',
23 silly publish      url: 'git+https://github.com/woleet/woleet-weblibs.git' },
23 silly publish   keywords:
23 silly publish    [ 'Woleet',
23 silly publish      'chainpoint',
23 silly publish      'receipt',
23 silly publish      'verification',
23 silly publish      'SHA256',
23 silly publish      'hashing',
23 silly publish      'bitcoin' ],
23 silly publish   author: { name: 'Woleet' },
23 silly publish   license: 'MIT',
23 silly publish   bugs: { url: 'https://github.com/woleet/woleet-weblibs/issues' },
23 silly publish   homepage: 'https://github.com/woleet/woleet-weblibs#readme',
23 silly publish   readme: '# Woleet web libraries\n\nThis repository contains the sources code of **Woleet web libraries**.\nThese libraries can be used in any web application to:\n- verify the integrity and timestamp of any data anchored on the Bitcoin blockchain (so called DAB) by Woleet or by any third party using [Chainpoint 1.0](http://www.chainpoint.org/#v1x) compatible anchoring receipts,\n- compute the SHA256 hash of any file (even larger than 50MB).\n\nNote that these libraries don\'t rely on the Woleet API (except **`woleet.verify.WoleetDAB`**,\n**`woleet.receipt.get`** and **`woleet.anchor.getAnchorIds`** functions) and so don\'t require any Woleet account nor the\navailability of the Woleet service to work: they only need to access Bitcoin transactions, which by default is done using\nthe Woleet API, but can be configured to use other independent providers like [blockcypher.com](https://blockcypher.com). \n \n# Building Woleet web libraries\n\nType `./build.sh` on the project\'s root to:\n- install build tools into the `./node_modules/` directory\n- install runtime dependencies into the `./bower_components/` directory\n- build the libraries into the `./dist/`directory\n\n# Using Woleet web libraries\n\n## <a name="limitations"></a>Limitations\n\nThese libraries have been tested on all modern web browsers and should work on any browser supporting\n[Promises](https://developer.mozilla.org/en-US/docs/Web/API/Promise)\nand [Workers](https://developer.mozilla.org/en-US/docs/Web/API/Worker) (note that if Workers are not supported,\nit is still possible to hash files whose size do not exceed 50MB).\n\nSince Internet Explorer 11 does not support promises, you will have to \ninclude a third party library such as [bluebird](http://bluebirdjs.com/):\n\n```html\n<!-- IE ZONE -->\n<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>\n<script type="text/javascript">\n  if (/MSIE \\d|Trident.*rv:/.test(navigator.userAgent))\n    document.write(\'<script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"><\\/script>\');\n</script>\n<!-- END IE ZONE -->\n```\n\nThese libraries currently only support anchoring receipts compatible with the [Chainpoint 1.0](http://www.chainpoint.org/#v1x) standard.\n\n## <a name="runtime-dependencies"></a>Runtime dependencies\n \nWoleet web libraries uses the **[crypto-js](https://github.com/brix/crypto-js)** lib to compute SHA256 hashes of files.\n The minified version of this library (**crypto.min.js**) must be present in the directory containing Woleet web libraries,\n which is done by the default build process.\n\n## Installation using Bower\n\nYou can use Bower to add Woleet web libraries to your project:\n\n```json\n  "dependencies": {\n    "woleet-weblibs": "*"\n  }\n```\n\n***In this documentation, it is supposed that Bower is used to install Woleet web libraries.***\n\n## Initialization\n\nTo use Woleet web libraries you have to include the following components:\n```html\n<script src="../bower_components/woleet-weblibs/dist/woleet-api.js"></script>\n<script src="../bower_components/woleet-weblibs/dist/woleet-hashfile.js"></script>\n<script src="../bower_components/woleet-weblibs/dist/woleet-chainpoint.js"></script>\n<script src="../bower_components/woleet-weblibs/dist/woleet-verify.js"></script>\n```\n\nor their minimized equivalent:\n\n```html\n<script src="../bower_components/woleet-weblibs/dist/woleet-weblibs.min.js"></script>\n```\n\n## Basic usage\n\nAll methods are provided by the `woleet` object. As an example, to get a Bitcoin transaction, the code is `woleet.transaction.get(txId)`.\n\n### Verify a file (without its anchoring receipt)\n\n**`woleet.verify.WoleetDAB(file)`** or **`woleet.verify.WoleetDAB(hash)`**\n\nThis function provides an easy way to verify a file that was anchored using the Woleet platform and flagged as **public** (which is the default):\n in that case, the anchoring receipt is retrieved automatically by the library from the platform, and so can be omitted.\n\nSee example at [examples/verifyWoleetDAB.html](examples/verifyWoleetDAB.html)\n\n- Parameters:\n    - `file`: a [File](#object_file) object.\n    - `hash`: a SHA256 hash (as an hexadecimal characters String).\n- Returns a Promise witch forwards:\n  - on success: a list of Proof* object (can be empty).\n  - on error: \n    - any error thrown by [woleet.receipt.validate](#receiptValidate) (see below).\n    - any error thrown by the [Hasher](#hashfile) object (see below).\n    - `file_matched_but_anchor_not_yet_processed`: the file has a match in our database but is waiting for anchoring.\n    - `missing_woleet_hash_dependency`: woleet-hashfile.js was not found.\n\n### Verify a file (with its anchoring receipt) \n\n**`verify.DAB(file, receipt)`** or **`verify.DAB(hash, receipt)`**\n\nThis function allows to verify files anchored using the Woleet platform but flagged as **private**, or files anchored by third party platforms,\nyou must provide a anchoring receipt.\n\nSee example at [examples/verifyDAB.html](examples/verifyDAB.html)\n\n- Parameters:\n    - `file`: a [File](#object_file) object.\n    - `hash`: a SHA256 hash (as an hexadecimal characters String).\n    - `receipt`: a JSON parsed anchoring receipt.\n- Returns a Promise witch forwards:\n  - on success: a [Proof](#object_proof) object.\n  - on error: \n    - any error thrown by [woleet.receipt.validate](#receiptValidate) (see below).\n    - any error thrown by the [Hasher](#hashfile) object (see below).\n    - `missing_woleet_hash_dependency`: woleet-hashfile.js was not found.\n    - `target_hash_mismatch`: the receipt\'s target hash is not equal to `hash` or to the `file` hash.\n    - `transaction_not_found`: the receipt\'s Bitcoin transaction cannot be found.\n    - `opReturn_mismatches_merkleRoot`: the Bitcoin transaction\'s OP_RETURN mismatches the receipt\'s Merkle root.\n\n### <a name="hashfile"></a>Compute the SHA256 hash of a file\n\nTo compute the SHA256 hash of a file, you have to instance a Hasher object: `var hasher = new woleet.file.Hasher`.\nThis object provides an interface to hash files in the browser:\n\nSee example at [examples/hashfile.html](examples/hashfile.html)\n\n**`hasher.on(event, callback)`**\n\nThis function allows to set the various callback functions used to monitor the hashing process and get the result.\n\n- Parameters:\n    - `event`: the event name\n    - `callback`: a callback function to be called when the event is triggered\n\nevent name | callback prototype\n----- | --------\n`start` | `function ({ start: boolean `(always true)`, file: File })`\n`progress` | `function ({ progress: Number `(between 0.0 and 1.0)`, file: File })`\n`error` | `function ({ error: Error, file: File })`\n`result` | `function ({ result: String `(SHA256 hash of the file)`, file: File })`\n\n**`hasher.start(files)`** \n\nThis functions allows to start the hashing process.\n\n- Parameters:\n    - `files`: a [FileList](#object_fileList) object.\n- Throws:\n    - `file_too_big_to_be_hashed_without_worker`: workers are not supported and the file exceeds the maximum size of the worker free hash function.\n    - `invalid_parameter`: `files` parameter is not a File nor a FileList.\n    - `not_ready`: the hasher is already hashing, you must wait for it to finish.\n    - `no_viable_hash_method`: workers are not supported ***and*** crypto-js lib is not included on the page.\n\n**`hasher.isReady()`**\n\nThis function check if the hasher is ready to be used.\n\n- Returns `true` if the hasher is ready to be used (i.e. is not currently hashing).\n\n## Advanced usage\n\n### <a name="receiptValidate"></a>Validate a anchoring receipt\n \n**`woleet.receipt.validate(receipt)`*\n\nThis function allows to validate an anchoring receipt.\n\nSee example at [examples/validateReceipt.html](examples/validateReceipt.html)\n\n- Parameters:\n    - `receipt`: a JSON parsed anchoring receipt\n- Returns: \n    - `true` if the receipt is valid.\n- Throws:\n    - `invalid_receipt_format`: the receipt format is not supported.\n    - `invalid_target_proof`: the receipt\'s Merkle proof is invalid (missing parent, left or right).\n    - `invalid_parent_in_proof_element`: the receipt\'s Merkle proof is invalid (parent != SHA256(left + right)).\n    - `non_sha256_target_proof_element`: the receipt\'s Merkle proof is invalid (parent, left or right not a SHA256 hash).\n    - `merkle_root_mismatch`: the receipt\'s Merkle proof is invalid (Merkle proof result does not match the merkle_root attribute).\n\n### Get Woleet public anchors matching a given file\n\n**`woleet.anchor.getAnchorIDs(hash[, size])`**\n\nThis function allows to retreive from the Wollet platform all public anchors matching a given file.\n\n- Parameters:\n    - `hash`: the SHA256 hash of the file (as an hexadecimal characters String).\n    - `size`: optional parameters setting the size of pages to retrieve.\n- Returns a promise witch forwards:\n  - on success: a [AnchorIDsPage](#object_anchorIdsPage) object containing the list (possibly empty) of the identifiers of all public anchors corresponding to the hash.\n  - on error: \n    - the request\'s [statusText](https://developer.mozilla.org/fr/docs/Web/API/Response/statusText) for any other case.\n\n### Get the anchoring receipt of a Woleet public anchor\n\n**`woleet.receipt.get(anchorID)`**\n\n- Parameters:\n    - `anchorID`: the identifier of the anchor to retrieve.\n- Returns a promise witch forwards:\n  - on success: a [Receipt](#object_receipt) object.\n  - on error: \n    - `not_found` if the anchor does not exist or is not public.\n    - the request\'s [statusText](https://developer.mozilla.org/fr/docs/Web/API/Response/statusText) for any other case.\n\n### Get a Bitcoin transaction\n\n**`woleet.transaction.get(txid)`**\n\n- Parameters:\n    - `txid`: the identifier of the Bitcoin transaction to retrieve.\n- Returns a promise witch forwards:\n  - on succeed: a [Transaction](#object_transaction) object.\n  - on error: \n    - `transaction_not_found` if the transaction does not exits on the Bitcoin blockchain.\n    - the request\'s [statusText](https://developer.mozilla.org/fr/docs/Web/API/Response/statusText) for any other case.\n\n### Set the Bitcoin transaction provider\n\n**`woleet.transaction.setDefaultProvider(provider)`**\n\n- Parameter:\n    - `provider: the provider to use as default provider: "woleet.io", "blockcypher.com" or "chain.so" (default is "woleet.io").\n\n## Dependencies\n\nWoleet web libraries are provided as 5 separate javascript files. For convenience, all these files are also wrapped\ninto a single *woleet-weblibs.js* file and minified versions are available.\n\n  - *woleet-verify.js* provides file verification methods. It relies on:\n    - *woleet-chainpoint.js*\n    - *woleet-api.js*\n    - *woleet-hashfile.js* (optional)\n\n  - *woleet-chainpoint.js* provides the receipt.validate method, it relies on\n    - *woleet-api.js*\n\n  - *woleet-hashfile.js* provides the file.Hasher class witch is an interface to hash files, it relies on:\n    - *crypto-js.js* library (optional): only if the browser does not support workers\n    - *woleet-hashfile-worker.js*\n\n  - *woleet-hashfile-worker.js* defines a worker used to hash files, it needs:\n    - *crypto-js.js* library (only to be accessible, not to include)\n    \n  - *woleet-api.js* provides miscellaneous method wrapping the Woleet API\n    \n## Objects definitions\n\n### <a name="object_transaction"></a>Transaction object\n```\n{\n    txId: {String} identifier of the transaction\n    confirmations: {Number} number of confirmations of the block containing the transaction\n    confirmedOn: {Date} confirmation date of the block containing the transaction\n    blockHash: {String} identifier of the block containing the transaction\n    opReturn: {String} OP_RETURN of the transaction\n}\n```\n#### Example\n```json\n{\n    "blockHash": "00000000000000000276fb1e87fa581e09d943f198a8b9114167df0e2230c247",\n    "confirmations": 3897,\n    "confirmedOn": "Wed Nov 23 2016 16:21:54 GMT+0100 (CET)",\n    "opReturn": "bf53f456227b377527349f337b8d11687e461a6ff01790deadb862bf1fa57fe9",\n    "txId": "0e50313029143187a44bf9fa9b9f08bf1b349291787ad8eeec2d09a2a5aaa1c5"\n}\n```\n\n### <a name="object_proof"></a>Proof object\n```\n{\n    confirmations: {Number} number of confirmations of the block containing the transaction\n    confirmedOn: {Date} confirmation date of the block containing the transaction\n    receipt: {Receipt} anchoring receipt\n}\n```\n#### Example\n```json\n{\n    "confirmedOn": "Wed Nov 23 2016 16:21:54 GMT+0100 (CET)",\n    "confirmations": 3897,\n    "receipt": [object Receipt]\n}\n```\n\n### <a name="object_anchorIdsPage"></a>AnchorIDsPage object\n```\n{\n    content: {String[]} array of anchor identifiers\n    totalPages: {Number} total number of pages available\n    totalElements: {Number} total number of anchor identifiers available\n    first: {boolean} true if the current page is the first one\n    last: {boolean} true if the current page is the last one\n    numberOfElements: {Number} number of anchors identifier on the current page\n    size: {Number} size of the current page\n    number: {Number} index of the current page number (starting from 0)\n}\n```\n#### Example\n```json\n{\n    "content": [\n      "c2f25d10-eae5-413c-82eb-1bdb6cf499b6",\n      "aef56767-feef-0123-9000-1bdb6cf499b6"\n    ],\n    "totalPages": 1,\n    "totalElements": 1,\n    "last": true,\n    "sort": null,\n    "first": true,\n    "numberOfElements": 1,\n    "size": 20,\n    "number": 0\n}\n```\n\n### <a name="object_receipt"></a>Receipt object\n\nThe receipt object matches the [Chainpoint 1.0](http://www.chainpoint.org/#v1x) format.\n\n#### Example\n```json\n{\n    "header": {\n        "chainpoint_version": "1.0",\n        "hash_type": "SHA-256",\n        "merkle_root": "bf53f456227b377527349f337b8d11687e461a6ff01790deadb862bf1fa57fe9",\n        "tx_id": "0e50313029143187a44bf9fa9b9f08bf1b349291787ad8eeec2d09a2a5aaa1c5",\n        "timestamp": 1479831225\n    },\n    "target": {\n        "target_hash": "0bf8e69866ff5db9efc108ea87953081ba627fb524a2c457dfb6c1b7df9430f9",\n        "target_uri": "https://www.someurl.com/target/id",\n        "target_proof": [\n            {\n                "parent": "275036918865f2bc25da43487e9d6d24a59b730753758935a68d8b8f2d27cdc5",\n                "left": "0bf8e69866ff5db9efc108ea87953081ba627fb524a2c457dfb6c1b7df9430f9",\n                "right": "259debf1b85cb6c962349945be88d504f2a79dbf0771c93fc5c76c5afad15794"\n            },\n            {\n                "parent": "9022cfc24650e3efbafa648e3b930b58ee0db0686ce7d0717f9f81be7ee45f2c",\n                "left": "307a39911f22f16d7d97e6d66168ff65a49b6c07825cdceb0e6f5907d87fe9f4",\n                "right": "275036918865f2bc25da43487e9d6d24a59b730753758935a68d8b8f2d27cdc5"\n            },\n            {\n                "parent": "bf53f456227b377527349f337b8d11687e461a6ff01790deadb862bf1fa57fe9",\n                "left": "9022cfc24650e3efbafa648e3b930b58ee0db0686ce7d0717f9f81be7ee45f2c",\n                "right": "31ec828ab1de576e8ae5f711d42aa28c59f0bb9242d23c27b9d12448e0e1cfee"\n            }\n        ]\n    },\n    "extra": [\n        {\n            "size": "93259"\n        },\n        {\n            "type": "application/pdf"\n        },\n        {\n            "anchorid": "c2f25d10-eae5-413c-82eb-1bdb6cf499b6"\n        }\n    ]\n}\n```\n\n### <a name="object_fileList"></a>FileList object\n\nSee https://developer.mozilla.org/fr/docs/Web/API/FileList\n\n### <a name="object_file"></a>File object\n\nSee https://developer.mozilla.org/fr/docs/Web/API/File',
23 silly publish   readmeFilename: 'README.md',
23 silly publish   gitHead: '3311cdb482390cba673debf95f68154e84bc9c1a',
23 silly publish   _id: 'woleet-weblibs@0.2.6',
23 silly publish   _shasum: '9818c781c2f0ac26962e3f156539bb3f2867ace3',
23 silly publish   _from: '.' }
24 info lifecycle woleet-weblibs@0.2.6~prepublishOnly: woleet-weblibs@0.2.6
25 silly lifecycle woleet-weblibs@0.2.6~prepublishOnly: no script for prepublishOnly, continuing
26 verbose getPublishConfig undefined
27 verbose stack Error: This package has been marked as private
27 verbose stack Remove the 'private' field from the package.json to publish it.
27 verbose stack     at publish_ (/usr/local/lib/node_modules/npm/lib/publish.js:102:15)
27 verbose stack     at Array.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/slide/lib/bind-actor.js:15:8)
27 verbose stack     at LOOP (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:15:14)
27 verbose stack     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:18:7
27 verbose stack     at done (/usr/local/lib/node_modules/npm/lib/utils/lifecycle.js:132:5)
27 verbose stack     at LOOP (/usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:7:26)
27 verbose stack     at /usr/local/lib/node_modules/npm/node_modules/slide/lib/chain.js:18:7
27 verbose stack     at /usr/local/lib/node_modules/npm/lib/utils/lifecycle.js:318:20
27 verbose stack     at /usr/local/lib/node_modules/npm/node_modules/graceful-fs/polyfills.js:284:29
27 verbose stack     at FSReqWrap.oncomplete (fs.js:114:15)
28 verbose cwd /Users/max/Documents/WOLEET/woleet-weblibs
29 error Darwin 16.4.0
30 error argv "/usr/local/Cellar/node/7.7.1/bin/node" "/usr/local/bin/npm" "publish"
31 error node v7.7.1
32 error npm  v4.1.2
33 error This package has been marked as private
33 error Remove the 'private' field from the package.json to publish it.
34 error If you need help, you may report this error at:
34 error     <https://github.com/npm/npm/issues>
35 verbose exit [ 1, true ]
